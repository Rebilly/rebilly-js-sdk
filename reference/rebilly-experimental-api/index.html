<!doctype html><html lang="en" class="no-js"><head><meta charset="utf-8"><meta name="viewport" content="width=device-width,initial-scale=1"><meta http-equiv="x-ua-compatible" content="ie=edge"><meta name="description" content="Official Rebilly JS SDK Documentation"><meta name="lang:clipboard.copy" content="Copy to clipboard"><meta name="lang:clipboard.copied" content="Copied to clipboard"><meta name="lang:search.language" content="en"><meta name="lang:search.pipeline.stopwords" content="True"><meta name="lang:search.pipeline.trimmer" content="True"><meta name="lang:search.result.none" content="No matching documents"><meta name="lang:search.result.one" content="1 matching document"><meta name="lang:search.result.other" content="# matching documents"><meta name="lang:search.tokenizer" content="[\s\-]+"><link rel="shortcut icon" href="../../images/favicon.ico"><meta name="generator" content="mkdocs-1.0.4, mkdocs-material-4.3.1"><title>RebillyExperimentalAPI - Rebilly JS SDK</title><link rel="stylesheet" href="../../assets/stylesheets/application.4031d38b.css"><link rel="stylesheet" href="../../assets/stylesheets/application-palette.224b79ff.css"><meta name="theme-color" content="#3f51b5"><script src="../../assets/javascripts/modernizr.74668098.js"></script><link href="https://fonts.gstatic.com" rel="preconnect" crossorigin><link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto:300,400,400i,700|Roboto+Mono&display=swap"><style>body,input{font-family:"Roboto","Helvetica Neue",Helvetica,Arial,sans-serif}code,kbd,pre{font-family:"Roboto Mono","Courier New",Courier,monospace}</style><link rel="stylesheet" href="../../assets/fonts/material-icons.css"><link rel="stylesheet" href="../../styles/extra.css"></head><body dir="ltr" data-md-color-primary="indigo" data-md-color-accent="deep-purple"><svg class="md-svg"><defs><svg xmlns="http://www.w3.org/2000/svg" width="416" height="448" viewBox="0 0 416 448" id="__github"><path fill="currentColor" d="M160 304q0 10-3.125 20.5t-10.75 19T128 352t-18.125-8.5-10.75-19T96 304t3.125-20.5 10.75-19T128 256t18.125 8.5 10.75 19T160 304zm160 0q0 10-3.125 20.5t-10.75 19T288 352t-18.125-8.5-10.75-19T256 304t3.125-20.5 10.75-19T288 256t18.125 8.5 10.75 19T320 304zm40 0q0-30-17.25-51T296 232q-10.25 0-48.75 5.25Q229.5 240 208 240t-39.25-2.75Q130.75 232 120 232q-29.5 0-46.75 21T56 304q0 22 8 38.375t20.25 25.75 30.5 15 35 7.375 37.25 1.75h42q20.5 0 37.25-1.75t35-7.375 30.5-15 20.25-25.75T360 304zm56-44q0 51.75-15.25 82.75-9.5 19.25-26.375 33.25t-35.25 21.5-42.5 11.875-42.875 5.5T212 416q-19.5 0-35.5-.75t-36.875-3.125-38.125-7.5-34.25-12.875T37 371.5t-21.5-28.75Q0 312 0 260q0-59.25 34-99-6.75-20.5-6.75-42.5 0-29 12.75-54.5 27 0 47.5 9.875t47.25 30.875Q171.5 96 212 96q37 0 70 8 26.25-20.5 46.75-30.25T376 64q12.75 25.5 12.75 54.5 0 21.75-6.75 42 34 40 34 99.5z"/></svg></defs></svg> <input class="md-toggle" data-md-toggle="drawer" type="checkbox" id="__drawer" autocomplete="off"> <input class="md-toggle" data-md-toggle="search" type="checkbox" id="__search" autocomplete="off"> <label class="md-overlay" data-md-component="overlay" for="__drawer"></label><a href="#rebillyexperimentalapi" tabindex="1" class="md-skip">Skip to content </a><header class="md-header" data-md-component="header"><nav class="md-header-nav md-grid"><div class="md-flex"><div class="md-flex__cell md-flex__cell--shrink"><a href="../.." title="Rebilly JS SDK" class="md-header-nav__button md-logo"><i class="md-icon"></i></a></div><div class="md-flex__cell md-flex__cell--shrink"><label class="md-icon md-icon--menu md-header-nav__button" for="__drawer"></label></div><div class="md-flex__cell md-flex__cell--stretch"><div class="md-flex__ellipsis md-header-nav__title" data-md-component="title"><span class="md-header-nav__topic">Rebilly JS SDK</span><span class="md-header-nav__topic">RebillyExperimentalAPI</span></div></div><div class="md-flex__cell md-flex__cell--shrink"><label class="md-icon md-icon--search md-header-nav__button" for="__search"></label><div class="md-search" data-md-component="search" role="dialog"><label class="md-search__overlay" for="__search"></label><div class="md-search__inner" role="search"><form class="md-search__form" name="search"><input type="text" class="md-search__input" name="query" placeholder="Search" autocapitalize="off" autocorrect="off" autocomplete="off" spellcheck="false" data-md-component="query" data-md-state="active"> <label class="md-icon md-search__icon" for="__search"></label> <button type="reset" class="md-icon md-search__icon" data-md-component="reset" tabindex="-1">&#xE5CD;</button></form><div class="md-search__output"><div class="md-search__scrollwrap" data-md-scrollfix><div class="md-search-result" data-md-component="result"><div class="md-search-result__meta">Type to start searching</div><ol class="md-search-result__list"></ol></div></div></div></div></div></div><div class="md-flex__cell md-flex__cell--shrink"><div class="md-header-nav__source"><a href="https://github.com/Rebilly/rebilly-js-sdk/" title="Go to repository" class="md-source" data-md-source="github"><div class="md-source__icon"><svg viewBox="0 0 24 24" width="24" height="24"><use xlink:href="#__github" width="24" height="24"></use></svg></div><div class="md-source__repository">Rebilly JS SDK</div></a></div></div></div></nav></header><div class="md-container"><main class="md-main"><div class="md-main__inner md-grid" data-md-component="container"><div class="md-sidebar md-sidebar--primary" data-md-component="navigation"><div class="md-sidebar__scrollwrap"><div class="md-sidebar__inner"><nav class="md-nav md-nav--primary" data-md-level="0"><label class="md-nav__title md-nav__title--site" for="__drawer"><a href="../.." title="Rebilly JS SDK" class="md-nav__button md-logo"><i class="md-icon"></i></a>Rebilly JS SDK</label><div class="md-nav__source"><a href="https://github.com/Rebilly/rebilly-js-sdk/" title="Go to repository" class="md-source" data-md-source="github"><div class="md-source__icon"><svg viewBox="0 0 24 24" width="24" height="24"><use xlink:href="#__github" width="24" height="24"></use></svg></div><div class="md-source__repository">Rebilly JS SDK</div></a></div><ul class="md-nav__list" data-md-scrollfix><li class="md-nav__item"><a href="../.." title="Introduction" class="md-nav__link">Introduction</a></li><li class="md-nav__item"><a href="../../getting-started/" title="Getting Started" class="md-nav__link">Getting Started</a></li><li class="md-nav__item md-nav__item--active md-nav__item--nested"><input class="md-toggle md-nav__toggle" data-md-toggle="nav-3" type="checkbox" id="nav-3" checked><label class="md-nav__link" for="nav-3">Reference</label><nav class="md-nav" data-md-component="collapsible" data-md-level="1"><label class="md-nav__title" for="nav-3">Reference</label><ul class="md-nav__list" data-md-scrollfix><li class="md-nav__item"><a href="../rebilly-api/" title="RebillyAPI" class="md-nav__link">RebillyAPI</a></li><li class="md-nav__item md-nav__item--active"><input class="md-toggle md-nav__toggle" data-md-toggle="toc" type="checkbox" id="__toc"><label class="md-nav__link md-nav__link--active" for="__toc">RebillyExperimentalAPI</label><a href="./" title="RebillyExperimentalAPI" class="md-nav__link md-nav__link--active">RebillyExperimentalAPI</a><nav class="md-nav md-nav--secondary"><label class="md-nav__title" for="__toc">Table of contents</label><ul class="md-nav__list" data-md-scrollfix><li class="md-nav__item"><a href="#importing" title="Importing" class="md-nav__link">Importing</a></li><li class="md-nav__item"><a href="#configuration" title="Configuration" class="md-nav__link">Configuration</a><nav class="md-nav"><ul class="md-nav__list"><li class="md-nav__item"><a href="#parameters" title="Parameters" class="md-nav__link">Parameters</a></li></ul></nav></li><li class="md-nav__item"><a href="#public-methods" title="Public Methods" class="md-nav__link">Public Methods</a><nav class="md-nav"><ul class="md-nav__list"><li class="md-nav__item"><a href="#addrequestinterceptor" title="addRequestInterceptor" class="md-nav__link">addRequestInterceptor</a></li><li class="md-nav__item"><a href="#removerequestinterceptor" title="removeRequestInterceptor" class="md-nav__link">removeRequestInterceptor</a></li><li class="md-nav__item"><a href="#addresponseinterceptor" title="addResponseInterceptor" class="md-nav__link">addResponseInterceptor</a></li><li class="md-nav__item"><a href="#removeresponseinterceptor" title="removeResponseInterceptor" class="md-nav__link">removeResponseInterceptor</a></li><li class="md-nav__item"><a href="#settimeout" title="setTimeout" class="md-nav__link">setTimeout</a></li><li class="md-nav__item"><a href="#setsessiontoken" title="setSessionToken" class="md-nav__link">setSessionToken</a></li><li class="md-nav__item"><a href="#setendpoints" title="setEndpoints" class="md-nav__link">setEndpoints</a></li><li class="md-nav__item"><a href="#setproxyagent" title="setProxyAgent" class="md-nav__link">setProxyAgent</a></li></ul></nav></li><li class="md-nav__item"><a href="#resources" title="Resources" class="md-nav__link">Resources</a><nav class="md-nav"><ul class="md-nav__list"><li class="md-nav__item"><a href="#customers" title="Customers" class="md-nav__link">Customers</a></li><li class="md-nav__item"><a href="#exports" title="Exports" class="md-nav__link">Exports</a></li><li class="md-nav__item"><a href="#histograms" title="Histograms" class="md-nav__link">Histograms</a></li><li class="md-nav__item"><a href="#reports" title="Reports" class="md-nav__link">Reports</a></li></ul></nav></li></ul></nav></li><li class="md-nav__item"><a href="../rebilly-errors/" title="RebillyErrors" class="md-nav__link">RebillyErrors</a></li><li class="md-nav__item md-nav__item--nested"><input class="md-toggle md-nav__toggle" data-md-toggle="nav-3-4" type="checkbox" id="nav-3-4"><label class="md-nav__link" for="nav-3-4">Resources</label><nav class="md-nav" data-md-component="collapsible" data-md-level="2"><label class="md-nav__title" for="nav-3-4">Resources</label><ul class="md-nav__list" data-md-scrollfix><li class="md-nav__item"><a href="../resources/account/" title="Accounts" class="md-nav__link">Accounts</a></li><li class="md-nav__item"><a href="../resources/api-keys/" title="API Keys" class="md-nav__link">API Keys</a></li><li class="md-nav__item"><a href="../resources/bank-accounts/" title="Bank Accounts" class="md-nav__link">Bank Accounts</a></li><li class="md-nav__item"><a href="../resources/blacklists/" title="Blacklists" class="md-nav__link">Blacklists</a></li><li class="md-nav__item"><a href="../resources/checkout-pages/" title="Checkout Pages" class="md-nav__link">Checkout Pages</a></li><li class="md-nav__item"><a href="../resources/contacts/" title="Contacts" class="md-nav__link">Contacts</a></li><li class="md-nav__item"><a href="../resources/coupons/" title="Coupons" class="md-nav__link">Coupons</a></li><li class="md-nav__item"><a href="../resources/credential-hashes/" title="Credential Hashes" class="md-nav__link">Credential Hashes</a></li><li class="md-nav__item"><a href="../resources/custom-events/" title="Custom Events" class="md-nav__link">Custom Events</a></li><li class="md-nav__item"><a href="../resources/custom-fields/" title="Custom Fields" class="md-nav__link">Custom Fields</a></li><li class="md-nav__item"><a href="../resources/customers/" title="Customers" class="md-nav__link">Customers</a></li><li class="md-nav__item"><a href="../resources/customer-authentication/" title="Customer Authentication" class="md-nav__link">Customer Authentication</a></li><li class="md-nav__item"><a href="../resources/disputes/" title="Disputes" class="md-nav__link">Disputes</a></li><li class="md-nav__item"><a href="../resources/events/" title="Events" class="md-nav__link">Events</a></li><li class="md-nav__item"><a href="../resources/files/" title="Files" class="md-nav__link">Files</a></li><li class="md-nav__item"><a href="../resources/gateway-accounts/" title="Gateway Accounts" class="md-nav__link">Gateway Accounts</a></li><li class="md-nav__item"><a href="../resources/invoices/" title="Invoices" class="md-nav__link">Invoices</a></li><li class="md-nav__item"><a href="../resources/kyc-documents/" title="KYC Documents" class="md-nav__link">KYC Documents</a></li><li class="md-nav__item"><a href="../resources/layouts/" title="Layouts" class="md-nav__link">Layouts</a></li><li class="md-nav__item"><a href="../resources/lists/" title="Lists" class="md-nav__link">Lists</a></li><li class="md-nav__item"><a href="../resources/notes/" title="Notes" class="md-nav__link">Notes</a></li><li class="md-nav__item"><a href="../resources/companies/" title="Companies" class="md-nav__link">Companies</a></li><li class="md-nav__item"><a href="../resources/payment-cards/" title="Payment Cards" class="md-nav__link">Payment Cards</a></li><li class="md-nav__item"><a href="../resources/payment-tokens/" title="Payment Tokens" class="md-nav__link">Payment Tokens</a></li><li class="md-nav__item"><a href="../resources/paypal-accounts/" title="Paypal Accounts" class="md-nav__link">Paypal Accounts</a></li><li class="md-nav__item"><a href="../resources/plans/" title="Plans" class="md-nav__link">Plans</a></li><li class="md-nav__item"><a href="../resources/previews/" title="Previews" class="md-nav__link">Previews</a></li><li class="md-nav__item"><a href="../resources/products/" title="Products" class="md-nav__link">Products</a></li><li class="md-nav__item"><a href="../resources/profile/" title="Profile" class="md-nav__link">Profile</a></li><li class="md-nav__item"><a href="../resources/sessions/" title="Sessions" class="md-nav__link">Sessions</a></li><li class="md-nav__item"><a href="../resources/shipping-zones/" title="Shipping Zones" class="md-nav__link">Shipping Zones</a></li><li class="md-nav__item"><a href="../resources/status/" title="Status" class="md-nav__link">Status</a></li><li class="md-nav__item"><a href="../resources/subscriptions/" title="Subscriptions" class="md-nav__link">Subscriptions</a></li><li class="md-nav__item"><a href="../resources/three-d-secure/" title="Three D Secure (3DS)" class="md-nav__link">Three D Secure (3DS)</a></li><li class="md-nav__item"><a href="../resources/tracking/" title="Tracking" class="md-nav__link">Tracking</a></li><li class="md-nav__item"><a href="../resources/transactions/" title="Transactions" class="md-nav__link">Transactions</a></li><li class="md-nav__item"><a href="../resources/users/" title="Users" class="md-nav__link">Users</a></li><li class="md-nav__item"><a href="../resources/webhooks/" title="Webhooks" class="md-nav__link">Webhooks</a></li><li class="md-nav__item"><a href="../resources/websites/" title="Websites" class="md-nav__link">Websites</a></li></ul></nav></li><li class="md-nav__item md-nav__item--nested"><input class="md-toggle md-nav__toggle" data-md-toggle="nav-3-5" type="checkbox" id="nav-3-5"><label class="md-nav__link" for="nav-3-5">Experimental</label><nav class="md-nav" data-md-component="collapsible" data-md-level="2"><label class="md-nav__title" for="nav-3-5">Experimental</label><ul class="md-nav__list" data-md-scrollfix><li class="md-nav__item"><a href="../resources/experimental/customers/" title="Customers" class="md-nav__link">Customers</a></li><li class="md-nav__item"><a href="../resources/experimental/exports/" title="Exports" class="md-nav__link">Exports</a></li><li class="md-nav__item"><a href="../resources/experimental/histograms/" title="Histograms" class="md-nav__link">Histograms</a></li><li class="md-nav__item"><a href="../resources/experimental/reports/" title="Reports" class="md-nav__link">Reports</a></li></ul></nav></li><li class="md-nav__item md-nav__item--nested"><input class="md-toggle md-nav__toggle" data-md-toggle="nav-3-6" type="checkbox" id="nav-3-6"><label class="md-nav__link" for="nav-3-6">Response Types</label><nav class="md-nav" data-md-component="collapsible" data-md-level="2"><label class="md-nav__title" for="nav-3-6">Response Types</label><ul class="md-nav__list" data-md-scrollfix><li class="md-nav__item"><a href="../types/member/" title="Member" class="md-nav__link">Member</a></li><li class="md-nav__item"><a href="../types/collection/" title="Collection" class="md-nav__link">Collection</a></li><li class="md-nav__item"><a href="../types/file/" title="File" class="md-nav__link">File</a></li></ul></nav></li></ul></nav></li><li class="md-nav__item md-nav__item--nested"><input class="md-toggle md-nav__toggle" data-md-toggle="nav-4" type="checkbox" id="nav-4"><label class="md-nav__link" for="nav-4">Guides</label><nav class="md-nav" data-md-component="collapsible" data-md-level="1"><label class="md-nav__title" for="nav-4">Guides</label><ul class="md-nav__list" data-md-scrollfix><li class="md-nav__item"><a href="../../guides/criteria/" title="Criteria" class="md-nav__link">Criteria</a></li><li class="md-nav__item"><a href="../../guides/filters/" title="Filters" class="md-nav__link">Filters</a></li></ul></nav></li><li class="md-nav__item"><a href="../../license/" title="License" class="md-nav__link">License</a></li></ul></nav></div></div></div><div class="md-sidebar md-sidebar--secondary" data-md-component="toc"><div class="md-sidebar__scrollwrap"><div class="md-sidebar__inner"><nav class="md-nav md-nav--secondary"><label class="md-nav__title" for="__toc">Table of contents</label><ul class="md-nav__list" data-md-scrollfix><li class="md-nav__item"><a href="#importing" title="Importing" class="md-nav__link">Importing</a></li><li class="md-nav__item"><a href="#configuration" title="Configuration" class="md-nav__link">Configuration</a><nav class="md-nav"><ul class="md-nav__list"><li class="md-nav__item"><a href="#parameters" title="Parameters" class="md-nav__link">Parameters</a></li></ul></nav></li><li class="md-nav__item"><a href="#public-methods" title="Public Methods" class="md-nav__link">Public Methods</a><nav class="md-nav"><ul class="md-nav__list"><li class="md-nav__item"><a href="#addrequestinterceptor" title="addRequestInterceptor" class="md-nav__link">addRequestInterceptor</a></li><li class="md-nav__item"><a href="#removerequestinterceptor" title="removeRequestInterceptor" class="md-nav__link">removeRequestInterceptor</a></li><li class="md-nav__item"><a href="#addresponseinterceptor" title="addResponseInterceptor" class="md-nav__link">addResponseInterceptor</a></li><li class="md-nav__item"><a href="#removeresponseinterceptor" title="removeResponseInterceptor" class="md-nav__link">removeResponseInterceptor</a></li><li class="md-nav__item"><a href="#settimeout" title="setTimeout" class="md-nav__link">setTimeout</a></li><li class="md-nav__item"><a href="#setsessiontoken" title="setSessionToken" class="md-nav__link">setSessionToken</a></li><li class="md-nav__item"><a href="#setendpoints" title="setEndpoints" class="md-nav__link">setEndpoints</a></li><li class="md-nav__item"><a href="#setproxyagent" title="setProxyAgent" class="md-nav__link">setProxyAgent</a></li></ul></nav></li><li class="md-nav__item"><a href="#resources" title="Resources" class="md-nav__link">Resources</a><nav class="md-nav"><ul class="md-nav__list"><li class="md-nav__item"><a href="#customers" title="Customers" class="md-nav__link">Customers</a></li><li class="md-nav__item"><a href="#exports" title="Exports" class="md-nav__link">Exports</a></li><li class="md-nav__item"><a href="#histograms" title="Histograms" class="md-nav__link">Histograms</a></li><li class="md-nav__item"><a href="#reports" title="Reports" class="md-nav__link">Reports</a></li></ul></nav></li></ul></nav></div></div></div><div class="md-content"><article class="md-content__inner md-typeset"><a href="https://github.com/Rebilly/rebilly-js-sdk/edit/master/docs/reference/rebilly-experimental-api.md" title="Edit this page" class="md-icon md-content__icon">&#xE3C9;</a><h1 id="rebillyexperimentalapi">RebillyExperimentalAPI<a class="headerlink" href="#rebillyexperimentalapi" title="Permanent link">&para;</a></h1>
<p>Experimental Rebilly API client that can break backward-compatibility. This client contains compute-heavy features like reports and statistics and is bound to change over time.</p>
<p><strong>API Spec</strong></p>
<p>See the <a href="https://rebilly.github.io/RebillyReportsAPI/">Rebilly Reports API spec </a>  for full details on the different API calls exposed within this client.</p>
<h2 id="importing">Importing<a class="headerlink" href="#importing" title="Permanent link">&para;</a></h2>
<p>The <code class="codehilite"><span class="n">RebillyExperimentalAPI</span></code> factory is part of the <code class="codehilite"><span class="n">rebilly</span><span class="o">-</span><span class="n">js</span><span class="o">-</span><span class="n">sdk</span></code> package as a <em>non-default</em> export.</p>
<div class="codehilite"><pre><span></span><span class="kr">import</span> <span class="p">{</span><span class="nx">RebillyExperimentalAPI</span><span class="p">}</span> <span class="nx">from</span> <span class="s1">&#39;rebilly-js-sdk&#39;</span><span class="p">;</span>
</pre></div>

<h2 id="configuration">Configuration<a class="headerlink" href="#configuration" title="Permanent link">&para;</a></h2>
<p>All client API configuration parameters are optional. However a secret API key can only be provided at instantiation.</p>
<div class="admonition info">
<p class="admonition-title">API Environments</p>
<p>By default an instance is always generated in the <strong>Live</strong> environment. The <strong>Sandbox</strong> mode is only recommended while developing your integration. </p>
</div>
<h5 id="parameters">Parameters<a class="headerlink" href="#parameters" title="Permanent link">&para;</a></h5>
<div class="codehilite"><pre><span></span><span class="kr">const</span> <span class="nx">api</span> <span class="o">=</span> <span class="nx">RebillyExperimentalAPI</span><span class="p">({</span><span class="nx">apiKey</span><span class="o">:</span> <span class="s1">&#39;secret-api-key&#39;</span><span class="p">,</span> <span class="nx">sandbox</span><span class="o">:</span> <span class="kc">true</span><span class="p">,</span> <span class="nx">timeout</span><span class="o">:</span> <span class="mi">10000</span><span class="p">});</span>
</pre></div>

<table>
<thead>
<tr>
<th>Option</th>
<th>Type</th>
<th>Default</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td><code class="codehilite"><span class="n">apiKey</span></code></td>
<td>string</td>
<td><code class="codehilite"><span class="k">null</span></code></td>
<td>Your secret API key. To be used only for Node integrations. See <a href="https://app.rebilly.com/api-keys">Developer &gt; API Keys</a>.</td>
</tr>
<tr>
<td><code class="codehilite"><span class="n">sandbox</span></code></td>
<td>boolean</td>
<td><code class="codehilite"><span class="k">false</span></code></td>
<td>Flag used to enable sandbox mode for the instance. This allows you to run requests without processing real transactions on your account.</td>
</tr>
<tr>
<td><code class="codehilite"><span class="n">timeout</span></code></td>
<td>number</td>
<td><code class="codehilite"><span class="mi">6000</span></code></td>
<td>Define the timeout in milliseconds for API requests.</td>
</tr>
</tbody>
</table>
<div class="admonition warning">
<p class="admonition-title">Version Agnostic</p>
<p>The Experimental API client is version-less and does not support it as part of its configuration hash.</p>
</div>
<h2 id="public-methods">Public Methods<a class="headerlink" href="#public-methods" title="Permanent link">&para;</a></h2>
<p>The API client exposes different configuration and utility methods you can use to customize your instance.</p>
<h3 id="addrequestinterceptor">addRequestInterceptor<a class="headerlink" href="#addrequestinterceptor" title="Permanent link">&para;</a></h3>
<p><div class="method"><code><strong>addRequestInterceptor</strong>({<span class="prop">thenDelegate</span>, <span class="prop">catchDelegate</span><span class="optional" title="optional">opt</span>})</code></div></p>
<p>Adds a request interceptor to the current API instance. Wrapped around Axios' request interceptor.</p>
<p><strong>Example</strong></p>
<div class="codehilite"><pre><span></span><span class="nx">api</span><span class="p">.</span><span class="nx">addRequestInterceptor</span><span class="p">({</span><span class="nx">thenDelegate</span><span class="o">:</span> <span class="p">(</span><span class="nx">config</span><span class="p">)</span> <span class="p">=&gt;</span> <span class="p">{</span>
    <span class="nx">config</span><span class="p">.</span><span class="nx">params</span><span class="p">[</span><span class="s1">&#39;extra-query-param&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="s1">&#39;foobar&#39;</span><span class="p">;</span>
    <span class="k">return</span> <span class="nx">config</span><span class="p">;</span>
<span class="p">}});</span>
</pre></div>

<p><strong>Parameters</strong></p>
<table>
<thead>
<tr>
<th>Name</th>
<th>Type</th>
<th>Attribute</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td>thenDelegate</td>
<td>Function</td>
<td>-</td>
<td>Defines the delegate logic to run when the request is completed. Receives the request configuration as a parameter. Must return the configuration for the request chain to continue. <br><br> <code class="codehilite"><span class="nx">thenDelegate</span><span class="p">(</span><span class="nx">config</span><span class="p">)</span> <span class="p">=&gt;</span> <span class="p">{</span><span class="nb">Object</span><span class="p">}</span></code> <br><br><strong>Parameters</strong> <table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody><tr><td>config</td><td>Object</td><td>The request configuration. Must be returned after being modified.</td></tr></tbody></table></td>
</tr>
<tr>
<td>catchDelegate</td>
<td>Function</td>
<td>Optional</td>
<td>Defines a callback to run before the catch block of the request is executed for this interceptor. <br><br> <code class="codehilite"><span class="nx">catchDelegate</span><span class="p">(</span><span class="nx">error</span><span class="p">)</span> <span class="p">=&gt;</span> <span class="nb">Promise</span></code> <br><br><strong>Parameters</strong> <table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody><tr><td>error</td><td>Object</td><td>The request error. Should be resolved as a Promise. This method can be used to prevent certain errors from being caught.</td></tr></tbody></table></td>
</tr>
</tbody>
</table>
<h3 id="removerequestinterceptor">removeRequestInterceptor<a class="headerlink" href="#removerequestinterceptor" title="Permanent link">&para;</a></h3>
<p><div class="method"><code><strong>removeRequestInterceptor</strong>(<span class="prop">interceptor</span>)</code></div></p>
<p>Removes a specific request interceptor from the current API instance.</p>
<p><strong>Example</strong></p>
<div class="codehilite"><pre><span></span><span class="c1">// set reference to interceptor</span>
<span class="kr">const</span> <span class="nx">interceptor</span> <span class="o">=</span> <span class="nx">api</span><span class="p">.</span><span class="nx">addRequestInterceptor</span><span class="p">({</span><span class="nx">thenDelegate</span><span class="o">:</span> <span class="p">(</span><span class="nx">config</span><span class="p">)</span> <span class="p">=&gt;</span> <span class="p">{</span>
    <span class="nx">config</span><span class="p">.</span><span class="nx">params</span><span class="p">[</span><span class="s1">&#39;extra-query-param&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="s1">&#39;foobar&#39;</span><span class="p">;</span>
    <span class="k">return</span> <span class="nx">config</span><span class="p">;</span>
<span class="p">}});</span>
<span class="c1">// remove via reference</span>
<span class="nx">api</span><span class="p">.</span><span class="nx">removeRequestInterceptor</span><span class="p">(</span><span class="nx">interceptor</span><span class="p">);</span>
</pre></div>

<p><strong>Parameters</strong></p>
<table>
<thead>
<tr>
<th>Name</th>
<th>Type</th>
<th>Attribute</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td>interceptor</td>
<td>Function</td>
<td>-</td>
<td>The reference to the previously added request interceptor that should be removed from the current instance.</td>
</tr>
</tbody>
</table>
<h3 id="addresponseinterceptor">addResponseInterceptor<a class="headerlink" href="#addresponseinterceptor" title="Permanent link">&para;</a></h3>
<p><div class="method"><code><strong>addResponseInterceptor</strong>({<span class="prop">thenDelegate</span>, <span class="prop">catchDelegate</span><span class="optional" title="optional">opt</span>})</code></div></p>
<p>Adds a response interceptor to the current API instance. Wrapped around Axios' response interceptor.</p>
<p><strong>Example</strong></p>
<div class="codehilite"><pre><span></span><span class="nx">api</span><span class="p">.</span><span class="nx">addResponseInterceptor</span><span class="p">({</span><span class="nx">thenDelegate</span><span class="o">:</span> <span class="p">(</span><span class="nx">response</span><span class="p">)</span> <span class="p">=&gt;</span> <span class="p">{</span>
    <span class="c1">// modify reponse data before having it processed by the API client</span>
    <span class="nx">response</span><span class="p">.</span><span class="nx">data</span><span class="p">.</span><span class="nx">shift</span><span class="p">();</span> <span class="c1">//removed first element</span>
    <span class="k">return</span> <span class="nx">response</span><span class="p">;</span>
<span class="p">}});</span>
</pre></div>

<p><strong>Parameters</strong></p>
<table>
<thead>
<tr>
<th>Name</th>
<th>Type</th>
<th>Attribute</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td>thenDelegate</td>
<td>Function</td>
<td>-</td>
<td>Defines the delegate logic to run when the response is completed. Receives the API response as a parameter. Must return the response chain to continue. <br><br> <code class="codehilite"><span class="nx">thenDelegate</span><span class="p">(</span><span class="nx">response</span><span class="p">)</span> <span class="p">=&gt;</span> <span class="p">{</span><span class="nb">Object</span><span class="p">}</span></code> <br><br><strong>Parameters</strong> <table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody><tr><td>response</td><td>Object</td><td>The API response. Must be returned after being modified.</td></tr></tbody></table></td>
</tr>
<tr>
<td>catchDelegate</td>
<td>Function</td>
<td>Optional</td>
<td>Defines a callback to run before the catch block of the response is executed for this interceptor. <br><br> <code class="codehilite"><span class="nx">catchDelegate</span><span class="p">(</span><span class="nx">error</span><span class="p">)</span> <span class="p">=&gt;</span> <span class="nb">Promise</span></code> <br><br><strong>Parameters</strong> <table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody><tr><td>error</td><td>Object</td><td>The response error. Should be resolved as a Promise. This method can be used to prevent certain errors from being caught.</td></tr></tbody></table></td>
</tr>
</tbody>
</table>
<h3 id="removeresponseinterceptor">removeResponseInterceptor<a class="headerlink" href="#removeresponseinterceptor" title="Permanent link">&para;</a></h3>
<p><div class="method"><code><strong>removeResponseInterceptor</strong>(<span class="prop">interceptor</span>)</code></div></p>
<p>Removes a specific response interceptor from the current API instance.</p>
<p><strong>Example</strong></p>
<div class="codehilite"><pre><span></span><span class="c1">// set reference to interceptor</span>
<span class="kr">const</span> <span class="nx">interceptor</span> <span class="o">=</span> <span class="nx">api</span><span class="p">.</span><span class="nx">addResponseInterceptor</span><span class="p">({</span><span class="nx">thenDelegate</span><span class="o">:</span> <span class="p">(</span><span class="nx">response</span><span class="p">)</span> <span class="p">=&gt;</span> <span class="p">{</span>
    <span class="nx">response</span><span class="p">.</span><span class="nx">data</span><span class="p">.</span><span class="nx">shift</span><span class="p">();</span>
    <span class="k">return</span> <span class="nx">config</span><span class="p">;</span>
<span class="p">}});</span>
<span class="c1">// remove via reference</span>
<span class="nx">api</span><span class="p">.</span><span class="nx">removeResponseInterceptor</span><span class="p">(</span><span class="nx">interceptor</span><span class="p">);</span>
</pre></div>

<p><strong>Parameters</strong></p>
<table>
<thead>
<tr>
<th>Name</th>
<th>Type</th>
<th>Attribute</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td>interceptor</td>
<td>Function</td>
<td>-</td>
<td>The reference to the previously added response interceptor that should be removed from the current instance.</td>
</tr>
</tbody>
</table>
<h3 id="settimeout">setTimeout<a class="headerlink" href="#settimeout" title="Permanent link">&para;</a></h3>
<p><div class="method"><code><strong>setTimeout</strong>(<span class="prop">timeout</span>)</code></div></p>
<p>Define the default timeout delay in milliseconds for the current API instance.</p>
<p><strong>Example</strong></p>
<div class="codehilite"><pre><span></span><span class="nx">api</span><span class="p">.</span><span class="nx">setTimeout</span><span class="p">(</span><span class="mi">10000</span><span class="p">);</span>
</pre></div>

<p><strong>Parameters</strong></p>
<table>
<thead>
<tr>
<th>Name</th>
<th>Type</th>
<th>Attribute</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td>timeout</td>
<td>number</td>
<td>-</td>
<td>Timeout delay in milliseconds.</td>
</tr>
</tbody>
</table>
<h3 id="setsessiontoken">setSessionToken<a class="headerlink" href="#setsessiontoken" title="Permanent link">&para;</a></h3>
<p><div class="method"><code><strong>setSessionToken</strong>(<span class="prop">token</span>)</code></div></p>
<p>Use a JWT session token to identify the API requests. This removes the private API key header if present. This method of authentication should be applied instead of the <em>private API key</em> when the client is used in a browser.</p>
<p>To retrieve a session token, first initialize the API client without an API key and use the sign in resource to login the user to Rebilly. The token will be available in the response fields.</p>
<p><strong>Example</strong></p>
<div class="codehilite"><pre><span></span><span class="c1">// instantiate an unauthorized API client</span>
<span class="kr">const</span> <span class="nx">api</span> <span class="o">=</span> <span class="nx">RebillyExperimentalAPI</span><span class="p">();</span>

<span class="c1">// build the sign in payload</span>
<span class="kr">const</span> <span class="nx">payload</span> <span class="o">=</span> <span class="p">{</span><span class="nx">data</span><span class="o">:</span> <span class="p">{</span><span class="nx">email</span><span class="p">,</span> <span class="nx">password</span><span class="p">,</span> <span class="nx">expiredTime</span><span class="p">}};</span>

<span class="c1">// the &#39;signIn&#39; method does not require API authorization to complete</span>
<span class="kr">const</span> <span class="nx">response</span> <span class="o">=</span> <span class="nx">await</span> <span class="nx">api</span><span class="p">.</span><span class="nx">account</span><span class="p">.</span><span class="nx">signIn</span><span class="p">(</span><span class="nx">payload</span><span class="p">);</span>

<span class="c1">// set the session token for future API requests that require</span>
<span class="c1">// an authorization using the response fields</span>
<span class="nx">api</span><span class="p">.</span><span class="nx">setSessionToken</span><span class="p">(</span><span class="nx">response</span><span class="p">.</span><span class="nx">fields</span><span class="p">.</span><span class="nx">token</span><span class="p">);</span>

<span class="c1">// this request will be authorized using the token</span>
<span class="kr">const</span> <span class="nx">customers</span> <span class="o">=</span> <span class="nx">await</span> <span class="nx">api</span><span class="p">.</span><span class="nx">customers</span><span class="p">.</span><span class="nx">getAll</span><span class="p">();</span>
</pre></div>

<h3 id="setendpoints">setEndpoints<a class="headerlink" href="#setendpoints" title="Permanent link">&para;</a></h3>
<p><div class="method"><code><strong>setEndpoints</strong>({<span class="prop">live</span><span class="optional" title="optional">opt</span>, <span class="prop">sandbox</span><span class="optional" title="optional">opt</span>})</code></div></p>
<p>Update the endpoints URL for live, sandbox or both mode in the current API instance's active URL. This is useful for testing a different version of the API.</p>
<div class="admonition warning">
<p class="admonition-title">Securing Communications</p>
<p>When modifying the API endpoints always use <strong>HTTPS</strong> for a production environment. </p>
</div>
<p><strong>Example</strong></p>
<div class="codehilite"><pre><span></span><span class="nx">api</span><span class="p">.</span><span class="nx">setEndpoints</span><span class="p">({</span><span class="nx">live</span><span class="o">:</span> <span class="s1">&#39;https://api.rebilly.com/experimental/version/url&#39;</span><span class="p">});</span>
</pre></div>

<p><strong>Parameters</strong></p>
<table>
<thead>
<tr>
<th>Name</th>
<th>Type</th>
<th>Attribute</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td>live</td>
<td>string</td>
<td>optional</td>
<td>URL for the live API mode.</td>
</tr>
<tr>
<td>sandbox</td>
<td>string</td>
<td>optional</td>
<td>URL for the sandbox API mode.</td>
</tr>
</tbody>
</table>
<h3 id="setproxyagent">setProxyAgent<a class="headerlink" href="#setproxyagent" title="Permanent link">&para;</a></h3>
<p><div class="method"><code><strong>setProxyAgent</strong>({<span class="prop">host</span>, <span class="prop">port</span>, <span class="prop">auth</span>})</code></div></p>
<p>Define a proxy for the current API instance. Authorized using <strong>HTTP Basic</strong> credentials. </p>
<p><strong>Example</strong></p>
<div class="codehilite"><pre><span></span><span class="kr">const</span> <span class="nx">config</span> <span class="o">=</span> <span class="p">{</span>
    <span class="nx">host</span><span class="o">:</span> <span class="s1">&#39;127.0.0.1&#39;</span><span class="p">,</span>
    <span class="nx">port</span><span class="o">:</span> <span class="mi">9000</span><span class="p">,</span>
    <span class="nx">auth</span><span class="o">:</span> <span class="p">{</span>
        <span class="c1">//HTTP Basic</span>
        <span class="nx">username</span><span class="o">:</span> <span class="s1">&#39;foobar&#39;</span><span class="p">,</span>
        <span class="nx">password</span><span class="o">:</span> <span class="s1">&#39;fuubar&#39;</span>
    <span class="p">}</span>
<span class="p">};</span>
<span class="c1">//all subsequent API requests will pass through the proxy</span>
<span class="nx">api</span><span class="p">.</span><span class="nx">setProxyAgent</span><span class="p">(</span><span class="nx">config</span><span class="p">);</span>
</pre></div>

<p><strong>Parameters</strong></p>
<table>
<thead>
<tr>
<th>Name</th>
<th>Type</th>
<th>Attribute</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td>host</td>
<td>string</td>
<td>-</td>
<td>Hostname of the proxy server.</td>
</tr>
<tr>
<td>port</td>
<td>number</td>
<td>-</td>
<td>Port of the proxy server.</td>
</tr>
<tr>
<td>auth</td>
<td>Object</td>
<td>-</td>
<td>Basic credentials to connect to the proxy server. <br><br> <strong>Properties</strong><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody><tr><td>username</td><td>string</td><td>The username required for basic authentication.</td></tr><tr><td>password</td><td>string</td><td>The password required for basic authentication.</td></tr></tbody></table></td>
</tr>
</tbody>
</table>
<h2 id="resources">Resources<a class="headerlink" href="#resources" title="Permanent link">&para;</a></h2>
<p>Resources are accessible at the root of the API client and represent a domain for specific API endpoints. Methods within each domain are semantically named and expect a single argument as an object literal with different keys.</p>
<div class="admonition tip">
<p class="admonition-title">Promises</p>
<p>All resource methods return chainable Promises.</p>
</div>
<h3 id="customers">Customers<a class="headerlink" href="#customers" title="Permanent link">&para;</a></h3>
<p><code class="codehilite"><span class="nx">api</span><span class="p">.</span><span class="nx">customers</span></code></p>
<p>Access customer lifetime metrics. </p>
<div class="admonition info">
<p>See the <a href="../resources/experimental/customers/"><strong>Customers resource</strong></a> for detailed method information.</p>
</div>
<h3 id="exports">Exports<a class="headerlink" href="#exports" title="Permanent link">&para;</a></h3>
<p><code class="codehilite"><span class="nx">api</span><span class="p">.</span><span class="nx">exports</span></code></p>
<p>Queue data exports for resources and download the result in CSV format. There is no limit to the amount of data that can be exported. </p>
<div class="admonition info">
<p>See the <a href="../resources/experimental/exports/"><strong>Exports resource</strong></a> for detailed method information.</p>
</div>
<h3 id="histograms">Histograms<a class="headerlink" href="#histograms" title="Permanent link">&para;</a></h3>
<p><code class="codehilite"><span class="nx">api</span><span class="p">.</span><span class="nx">histograms</span></code></p>
<p>Histograms are for a particular kinds of reports with cohorts and periods. </p>
<div class="admonition info">
<p>See the <a href="../resources/experimental/histograms/"><strong>Histograms resource</strong></a> for detailed method information.</p>
</div>
<h3 id="reports">Reports<a class="headerlink" href="#reports" title="Permanent link">&para;</a></h3>
<p><code class="codehilite"><span class="nx">api</span><span class="p">.</span><span class="nx">reports</span></code></p>
<p>Retrieve summary information about your customers, subscriptions, transactions, and more. </p>
<div class="admonition info">
<p>See the <a href="../resources/experimental/reports/"><strong>Reports resource</strong></a> for detailed method information.</p>
</div></article></div></div></main><footer class="md-footer"><div class="md-footer-nav"><nav class="md-footer-nav__inner md-grid"><a href="../rebilly-api/" title="RebillyAPI" class="md-flex md-footer-nav__link md-footer-nav__link--prev" rel="prev"><div class="md-flex__cell md-flex__cell--shrink"><i class="md-icon md-icon--arrow-back md-footer-nav__button"></i></div><div class="md-flex__cell md-flex__cell--stretch md-footer-nav__title"><span class="md-flex__ellipsis"><span class="md-footer-nav__direction">Previous</span>RebillyAPI</span></div></a><a href="../rebilly-errors/" title="RebillyErrors" class="md-flex md-footer-nav__link md-footer-nav__link--next" rel="next"><div class="md-flex__cell md-flex__cell--stretch md-footer-nav__title"><span class="md-flex__ellipsis"><span class="md-footer-nav__direction">Next</span>RebillyErrors</span></div><div class="md-flex__cell md-flex__cell--shrink"><i class="md-icon md-icon--arrow-forward md-footer-nav__button"></i></div></a></nav></div><div class="md-footer-meta md-typeset"><div class="md-footer-meta__inner md-grid"><div class="md-footer-copyright"><div class="md-footer-copyright__highlight">Copyright &copy; 2019 Rebilly Inc.</div>powered by <a href="https://www.mkdocs.org">MkDocs</a> and <a href="https://squidfunk.github.io/mkdocs-material/">Material for MkDocs</a></div></div></div></footer></div><script src="../../assets/javascripts/application.b260a35d.js"></script><script>app.initialize({version:"1.0.4",url:{base:"../.."}})</script></body></html>